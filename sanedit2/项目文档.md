encode.py
```py
....
    self.skill_names = [
            '刚击', '乱击', '扰乱', '猛冲', '枪阵',
            '连击', '突击', '急袭', '骑射', '园阵',
            '齐射', '乱射', '火矢', '远射', '箭雨',
            '火箭', '混战', '连环', '突贯', '爆船',
            '烈火', '激流', '落石', '伏击', '相残',
            '奋起', '鼓舞', '谩骂', '治疗', '天启',
            '风变', '天变', '妖术', '幻术', '落雷'
        ]  
    def hex_to_quaternary_战法(self,hex_string):
        # 转换十六进制字符串为十进制整数
        decimal_num = int(hex_string, 16)    
        if decimal_num == 0:
            # 如果输入是全0，则返回与输入长度相对应的全0四进制字符串
            return '0' * (len(hex_string) * 2)    
        quaternary = ""
        while decimal_num > 0:
            decimal_num, remainder = divmod(decimal_num, 4)
            quaternary = str(remainder) + quaternary    
        # 确保返回的四进制字符串长度为十六进制输入长度的两倍
        required_length = len(hex_string) * 2
        quaternary = quaternary.zfill(required_length)  

        if(len(quaternary)%4 !=0):
            raise ValueError("长度不是4的倍数")
        # 每四个字符分组
        gps = [quaternary[i:i+4] for i in range(0,len(quaternary),4)]
        # 每组倒叙
        rgps = [gp[::-1] for gp in gps]
        #拼接
        result = ''.join(rgps)  
            
        return result[:35]
    
    def parse_skills_to_dict(self,ordered_skills):
        # 定义技能名称列表，按照图片从左到右，从上到下的顺序
        skill_names =self.skill_names
        # 检查输入字符串长度是否为32
        if len(ordered_skills) != 35:
            raise ValueError("输入字符串长度必须为35")        
        # 创建一个字典来保存技能和等级
        skills_dict = {}        
        # 遍历技能名称和对应的等级
        for i, skill_name in enumerate(skill_names):
            skills_dict[skill_name]=ordered_skills[i]        
        return skills_dict

...
```
我encode代码里面有两个方法，把16进制转换成4进制，然后把4进制转换成技能名称。
现在前端的方法
```py
def save_warrior_skills(warrior, skill_entries, original_skill_hex, start_pos, end_pos):
    try:
        # 验证并收集技能等级
        new_skills = {}
        for skill_name, entry in skill_entries.items():
            value = entry.get().strip()
            if not value.isdigit() or int(value) < 0 or int(value) > 3:
                messagebox.showerror("错误", f"技能 {skill_name} 的等级必须是0-3之间的数字")
                return
            new_skills[skill_name] = value
        
        # 更新武将技能数据
        warrior['战法'] = new_skills
        
        # 重新编码为十六进制格式存储
        # 构建技能字符串（35个字符）
        skill_string = "".join([new_skills.get(name, "0") for name in ec.skill_names])
        print(f"编码前的技能字符串: {skill_string}")
        
        # 逆向 hex_to_quaternary_战法 的过程
        # 1. 每4个字符分组
        gps = [skill_string[i:i+4] for i in range(0, len(skill_string), 4)]
        # 2. 每组倒序
        rgps = [gp[::-1] for gp in gps]
        # 3. 拼接
        result = ''.join(rgps)
        result = result.ljust(36, '0')[:35]  # 确保长度为35
        print(f"处理后的结果: {result}")
        
        # 4. 转换为十六进制 - 这是关键步骤
        # 我们需要将这个字符串转换为对应的十六进制表示
        # 方法是将字符串看作四进制数，然后转换为十六进制
        
        # 在这里，我们需要将 result 看作一个大的四进制数
        # 但实际处理中，是按每两位一组处理的
        hex_result = ""
        for i in range(0, len(result), 2):
            if i+1 < len(result):
                # 取两个字符并倒序（与解码过程一致）
                pair = result[i:i+2][::-1]
                # 将四进制转换为十进制，再转换为十六进制
                decimal = int(pair, 4)
                hex_result += format(decimal, '02x')
            else:
                # 处理最后一个单独的字符
                char = result[i]
                decimal = int(char, 4)
                hex_result += format(decimal, '02x')
                # 补0使其成为两位
                hex_result += "00"
        
        # 确保长度为18
        hex_result = hex_result.ljust(18, '0')[:18]
        print(f"最终十六进制结果: {hex_result}")
        print(f"原始十六进制: {original_skill_hex}")
        
        # 更新 warrior 中的技能十六进制字符串
        warrior_source = warrior.get('source', '')
        updated_source = warrior_source[:start_pos] + hex_result + warrior_source[end_pos:]
        warrior['source'] = updated_source
        
        messagebox.showinfo("成功", "技能信息已更新")
    except Exception as e:
        messagebox.showerror("错误", f"保存失败: {str(e)}")
        print(f"保存错误详情: {str(e)}")

```
有问题，打印出来的日志是
```log
调试信息 - 武将: 弦断
原始技能十六进制字符串: 000050140000540510
编码前的技能字符串: 00000000001101100000000001111100001
处理后的结果: 00000000110001100000000011100011100
最终十六进制结果: 000000000500040100
原始十六进制: 000050140000540510
```